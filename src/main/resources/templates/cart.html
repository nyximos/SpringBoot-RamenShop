<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Ramen shop</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel='stylesheet' href='/css/main.css'>
	<link rel='stylesheet' href='/css/menu.css'>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script></head>

<body>
	<header th:insert="header.html"></header>
	<h1>cart</h1>
	<div>
		<table>
			<tr>
				<td>cart</td>
			</tr>
			<tr th:each="c : ${cart}">
				<td th:text="${cStat.index+1}"></td>
				<td th:text="${c.menu.name}"></td>

				<td th:text="${c.options[0].name}" th:if="${c.options.size>0}"></td>
				<td th:text="${c.options[1].name}" th:if="${c.options.size>1}"></td>
				<td th:text="${c.options[2].name}" th:if="${c.options.size>2}"></td>
				<td th:text="${c.options[3].name}" th:if="${c.options.size>3}"></td>
				<td th:text="${c.options[4].name}" th:if="${c.options.size>4}"></td>
				<td th:text="${c.options[5].name}" th:if="${c.options.size>5}"></td>
				<td th:text="${c.options[6].name}" th:if="${c.options.size>6}"></td>
				<td th:text="${c.options[7].name}" th:if="${c.options.size>7}"></td>
				<td th:text="${c.options[8].name}" th:if="${c.options.size>8}"></td>
				<td th:text="${c.options[9].name}" th:if="${c.options.size>9}"></td>
				<td th:text="${c.options[10].name}" th:if="${c.options.size>10}"></td>

				<td th:text="|${c.count}개|"></td>
				<td th:text="|${c.price}원|"></td>
				<input type="hidden" class="price" th:value="${c.price}">

				<td scope="row" width="20%">
					<form th:action="@{'/menus/delete/{id}'(id=${cStat.index})}" th:method="Post">
						<input type="hidden" name="_method" value="delete" />
						<button type="submit" id="submitButton">삭제 </button>
					</form>
				</td>

			</tr>
		</table>
		<button id="cal">계산</button>
		<span class="sum"></span>
	</div>
	<div>
		<form th:action="@{'/menus/cart'}" th:method="Post">
			<button type="submit">결제 </button>
		</form>
	</div>


	<script th:inline="javascript">
		$(window).scroll(function () {  //스크롤이 움직일때마다 이벤트 발생 
			let position = $(window).scrollTop(); // 현재 스크롤바의 위치값을 반환합니다.
			$('.quickmenu').stop().animate({top: position + "px"}, 1000); //해당 오브젝트 위치값 재설정
		});
	</script>

</body>

</html>