<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Ramen shop</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel='stylesheet' href='/css/main.css'>
	<link rel='stylesheet' href='/css/menu.css'>
	<script src="/resources/jquery/jquery-3.3.1.min.js"></script>
</head>

<body>
	<header th:insert="header.html"></header>
	<div class="container">
		<div class="menu-component">
			<div class="menu-box">
				<div class="menu-info">
					<div class="menu-title" th:text="${menu.name}"></div>
					<div class="menu-img" style="text-align:center"><img th:src="@{/imgs/}+${menu.imgName}"></div>
					<div class="menu-price" th:text="|${menu.price}원|"></div>
					<div class="menu-discription" th:text="${menu.discription}"></div>
				</div>
				<div class="option-info" th:if="${menuGroupId.toString().equals('1')}">
					<div class="option-box">
						<form th:action="@{'/api/menus/{id}'(id=${menu.id})}" method="post">
							<div class="w-100">
								<p>맛</p>
								<div class="w-50">
									<label>
										<input type="radio" name="spicy" value="2" class="form-radio" />
										보통맛</<label>
								</div>
								<div class="w-50">
									<label>
										<input type="radio" name="spicy" value="3" class="form-radio" />
										매운맛</<label>
								</div>
							</div>


							<div class="w-100">
								<p>추가 선택</p>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="4" class="form-checkbox" />
										곱빼기 추가</<label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="5" class="form-checkbox" />
										삶은 계란 추가</<label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="6" class="form-checkbox" />
										날계란 추가</<label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="7" class="form-checkbox" />
										야채튀김 추가</<label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="8" class="form-checkbox" />
										새우튀김 추가</<label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="9" class="form-checkbox" />
										치킨 가라아게 추가</<label>><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="10" class="form-checkbox" />
										돈까스 추가</<label><span> +1000원</span>
								</div>
							</div>


							<div class="clear"></div>

							<div>
								<div class="cartStock">
									<button type="button" class="plus">+</button>
									<span>구입 수량</span>
									<input type="number" name="count" class="numBox" value="1" />
									<button type="button" class="minus">-</button>

								</div>
								<div class="total">
									<div>총 금액</div>
									<div> <input type="text" class="form-input" readonly="readonly" />
										원</div>
								</div>
							</div>
							<div class="btn-box">
								<div th:onclick="'location.href=\''+ @{/menus} + '\''">취소</div>
								<div><button class="yellow-button">담기</button></div>
								<input type="submit" value="담기">
							</div>
						</form>
					</div>
				</div>
				<div class="option-info" th:if="${menuGroupId.toString().equals('2')}">
					<div class="option-box">
						<form th:action="@{'api/menus/{id}'(id=${menu.id})}" method="post">
							<div class="w-100">
								<p>맛</p>
								<div class="w-50">
									<label>
										<input type="radio" name="spicy" value="0" class="form-radio" />
										보통맛</label>

								</div>
								<div class="w-50">
									<label>
										<input type="radio" name="spicy" value="1" class="form-radio" />
										매운맛</label>
								</div>
							</div>


							<div class="w-100">
								<p>추가 선택</p>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="1" class="form-checkbox" />
										곱빼기 추가</label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="1" class="form-checkbox" />
										야채튀김 추가</label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="1" class="form-checkbox" />
										새우튀김 추가</label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="1" class="form-checkbox" />
										치킨 가라아게 추가</label><span> +1000원</span>
								</div>
								<div class="w-100">
									<label>
										<input type="checkbox" name="double" value="1" class="form-checkbox" />
										돈까스 추가</label><span> +1000원</span>
								</div>
							</div>
							<div class="clear"></div>
							<div>
								<div class="cartStock">
									<button type="button" class="plus">+</button>
									<span>구입 수량</span>
									<input type="number" class="numBox" value="1" />
									<button type="button" class="minus">-</button>

								</div>
								<div class="total">
									<div>총 금액</div>
									<div> <input type="text" class="form-input" readonly="readonly" />
										원</div>
								</div>
							</div>

							<div class="btn-box">
								<div th:onclick="'location.href=\''+ @{/menus} + '\''">취소</div>
								<div><button class="yellow-button">담기</button></div>
							</div>
						</form>
					</div>
				</div>
				<div class="option-info"
					th:if="${menuGroupId.toString().equals('3')} or ${menuGroupId.toString().equals('4')}">
					<div>
						<div class="cartStock">
							<button type="button" class="plus">+</button>
							<span>구입 수량</span>
							<input type="number" class="numBox" value="1" />
							<button type="button" class="minus">-</button>

						</div>
						<div class="total">
							<div>총 금액</div>
							<div> <input type="text" class="form-input" readonly="readonly" />
								원</div>
						</div>
					</div>
					<div class="btn-box">
						<div th:onclick="'location.href=\''+ @{/menus} + '\''">취소</div>
						<div><button class="yellow-button">담기</button></div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
	<script src="/webjars/bootstrap/4.5.0/js/bootstrap.min.js"></script>



	<script>
		$(window).scroll(function () {  //스크롤이 움직일때마다 이벤트 발생 
			let position = $(window).scrollTop(); // 현재 스크롤바의 위치값을 반환합니다.
			$('.quickmenu').stop().animate({top: position + "px"}, 1000); //해당 오브젝트 위치값 재설정
		});
	</script>

	<script>
		$(".plus").click(function () {
			var num = $(".numBox").val();
			var plusNum = Number(num) + 1;
			$(".numBox").val(plusNum);

		});

		$(".minus").click(function () {
			var num = $(".numBox").val();
			var minusNum = Number(num) - 1;

			if (minusNum <= 0) {
				$(".numBox").val(num);
			} else {
				$(".numBox").val(minusNum);
			}
		});
	</script>
</body>

</html>